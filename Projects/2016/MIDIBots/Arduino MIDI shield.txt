We plan to do a small run of printed circuit boards (PCBs) for the Arduino MIDI shields.  These will have the following features:

 - MIDI IN port, using the proper opto-coupled circuit defined in the standard
 - MIDI THRU port, sending a buffered copy of the MIDI IN electrical signal
 - Offboard 5-pin DIN connectors, allowing chassis-mounting of these connectors (more robust, more maintainable)
 - DIP switches for setting the MIDI channel to respond to (and possibly an omni switch? or we could set that in firmware)
 - Servo outputs (maybe 3 or 4 for a drummer bot, if the Arduino has enough PWM outputs that can be used via the Servo library)
 - MOSFET outputs (maybe 4) for switching solenoids and high-brightness LEDs (with resistors and diodes)
 - Power LED?
 - LED connected to standard Arduino LED pin (D13)
 - Reset button carried out from the main Arduino board
 - Self-test button
 - Potentiometer input(s) for latency tweaking? (or this could be adjusted at the co-ordinating computer that sends out the MIDI data)
 - Separate power input? Or piggy-back off the Arduino's Vin (which will need to be 12 V)
 - Power supply filtering (capacitors), fuses?!
 - Switch for hard-disconnecting RX for reprogramming (RX is shared between pin 0 and the Arduino's USB serial link)

Paul Campbell recommends Dirty PCBs for cheap fabrication of small runs. I'm planning on no more than 8 MusicBots:
 - DrummerBot
 - PercussionBot
 - RecorderBot
 - UkeBot
 - SynthBot
 - Racket/RattleBot
 - KeyBot (melodica, toy piano, keytar?)

SparkFun's Arduino MIDI shield would be worth studying for design and implementation ideas:


https://www.sparkfun.com/products/12898
https://learn.sparkfun.com/tutorials/midi-shield-hookup-guide

Olimex have a similar board:
https://www.olimex.com/Products/Duino/Shields/SHIELD-MIDI/open-source-hardware

--

2016-05-25
Pin assignments:

We'll need to finalise these soon! We have tested the Arduino Servo library and checked that the following PWM pins work:
3
5
6
9
10
11

Some pins that could/should be reserved:
D0: RX (serial receive)
D1: TX (serial transmit)
D13: built-in LED
Analog inputs?  We might want a control pot for latency, volume, perhaps.

Other pin considerations:
 - Might want PWM capability on MOSFET outputs (e.g. for DC motor control, lamp dimming)
 - Stepper motor driver? Perhaps 2 axes.  Could adapt RAMPS design for using Allegro driver carrier boards.
 - MIDI channel DIP switch (4 pins, no need for PWM).
	I had thought that 4 consecutive pins would be good, so that the DIP switch can be placed right next to the pins for a compact layout.  However, that might use too many PWM-capable pins.
	D1, 2, 3, 4?
	D2, 4, 7, 8?
