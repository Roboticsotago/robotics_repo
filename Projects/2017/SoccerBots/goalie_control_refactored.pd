#N canvas 23 67 1265 619 10;
#X obj 765 53 r reflectance;
#X floatatom 765 75 5 0 0 0 - - -, f 5;
#X obj 765 94 > 800;
#X obj 765 117 tgl 30 0 empty empty inside_goal_zone 17 7 0 10 -262144
-1 -1 0 1;
#X obj 765 152 s inside_goal_zone;
#X obj 1048 53 r ball_detected;
#X obj 1048 75 tgl 30 0 empty empty ball_detected 17 7 0 10 -262144
-1 -1 1 1;
#X obj 1048 110 sig~;
#X obj 912 53 r ball_distance;
#X obj 911 76 moses 0.01;
#X obj 912 97 sig~;
#X obj 912 119 lop~ 1;
#X obj 912 141 s~ ball_distance~;
#X obj 1048 132 s~ ball_detected~;
#N canvas 412 181 781 476 panic 0;
#X obj 110 120 tgl 30 0 empty panic panic 17 7 0 10 -262144 -1 -1 1
1;
#X obj 399 96 r goal_detected;
#X obj 236 96 r inside_goal_zone;
#X obj 284 185 expr $f1 * $f2;
#X obj 236 118 not;
#X obj 399 118 not;
#X obj 399 140 t b f;
#X obj 284 240 s panic;
#X connect 1 0 5 0;
#X connect 2 0 4 0;
#X connect 3 0 7 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 3 0;
#X connect 6 1 3 1;
#X coords 0 -1 1 1 85 60 1 100 100;
#X restore 158 127 pd panic;
#X obj 50 51 loadbang;
#X floatatom 50 95 5 0 0 0 - - -, f 5;
#X text 49 28 States;
#X text 48 223 Modes;
#N canvas 23 81 1037 547 rotate_2_ball 0;
#X obj 110 120 tgl 30 0 empty rotate_2_ball rotate_2_ball 17 7 0 10
-262144 -1 -1 0 1;
#X obj 277 91 r homed;
#X obj 276 113 s rotate_2_ball;
#X obj 135 207 r ball_angle;
#X obj 315 411 r rotate_2_ball;
#X obj 265 433 sig~;
#X obj 315 433 sig~;
#X obj 265 455 *~;
#X obj 265 504 throw~ steering;
#N canvas 0 51 450 300 face_ball 0;
#X obj 29 168 clip -1 1;
#X obj 29 80 inlet;
#X obj 29 190 outlet;
#X obj 29 102 expr if($f1 > 20 \, $f1 - 20 \, if($f1 < -20 \, $f1 +
20 \, 0));
#X obj 29 124 / 160;
#X obj 29 146 * 2;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X restore 135 230 pd face_ball;
#X floatatom 90 232 5 0 0 0 - - -, f 5;
#X obj 243 207 r compass_heading;
#X obj 243 229 abs;
#X floatatom 286 252 5 0 0 0 - - -, f 5;
#X obj 243 251 < 80;
#X obj 265 411 *;
#X msg 243 296 0.2;
#X obj 243 273 moses 1;
#X msg 289 296 1;
#X obj 289 318 t b f;
#X obj 243 318 t b f;
#X connect 1 0 2 0;
#X connect 3 0 9 0;
#X connect 3 0 10 0;
#X connect 4 0 6 0;
#X connect 5 0 7 0;
#X connect 6 0 7 1;
#X connect 7 0 8 0;
#X connect 9 0 15 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 12 0 14 0;
#X connect 14 0 17 0;
#X connect 15 0 5 0;
#X connect 16 0 20 0;
#X connect 17 0 16 0;
#X connect 17 1 18 0;
#X connect 18 0 19 0;
#X connect 19 0 15 0;
#X connect 19 1 15 1;
#X connect 20 0 15 0;
#X connect 20 1 15 1;
#X coords 0 -1 1 1 85 60 1 100 100;
#X restore 50 317 pd rotate_2_ball;
#N canvas 484 122 755 530 intercept_ball 0;
#X obj 110 120 tgl 30 0 empty intercept_ball intercept_ball 17 7 0
10 -262144 -1 -1 0 1;
#X obj 260 182 r homed;
#X obj 280 266 s intercept_ball;
#X obj 280 231 *;
#X obj 279 299 r intercept_ball;
#X obj 279 368 sig~;
#X obj 275 424 throw~ throttle;
#N canvas 739 60 454 307 kick 0;
#X obj 258 141 change;
#X obj 78 267 s kick;
#X obj 258 119 snapshot~;
#X obj 383 70 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 383 44 loadbang;
#X text 234 6 toggles kicker;
#X obj 383 94 metro 10;
#X floatatom 325 140 5 0 0 0 - - -, f 5;
#X floatatom 318 166 5 0 0 0 - - -, f 5;
#X obj 258 92 expr~ $v1 >= 0.5;
#X obj 77 214 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 44 140 loadbang;
#X obj 78 164 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 259 31 inlet~;
#X obj 78 185 metro 200;
#X obj 157 184 r intercept_ball;
#X floatatom 157 206 5 0 0 0 - - -, f 5;
#X obj 77 234 *;
#X connect 2 0 0 0;
#X connect 2 0 7 0;
#X connect 3 0 6 0;
#X connect 4 0 3 0;
#X connect 6 0 2 0;
#X connect 9 0 2 0;
#X connect 10 0 17 0;
#X connect 11 0 12 0;
#X connect 12 0 14 0;
#X connect 13 0 9 0;
#X connect 14 0 10 0;
#X connect 15 0 16 0;
#X connect 16 0 17 1;
#X connect 17 0 1 0;
#X restore 322 323 pd kick;
#X obj 329 195 t b f;
#X obj 327 155 r ball_near;
#X floatatom 426 181 5 0 0 0 - - -, f 5;
#X floatatom 260 204 5 0 0 0 - - -, f 5;
#X obj 277 394 *~ 1.5;
#X obj 279 340 *;
#X obj 152 232 r ball_behind;
#X obj 156 275 t b f;
#X obj 152 254 not;
#X floatatom 331 364 5 0 0 0 - - -, f 5;
#X connect 1 0 3 0;
#X connect 1 0 11 0;
#X connect 3 0 2 0;
#X connect 4 0 7 0;
#X connect 4 0 13 0;
#X connect 5 0 12 0;
#X connect 8 0 3 0;
#X connect 8 1 3 1;
#X connect 9 0 8 0;
#X connect 9 0 10 0;
#X connect 12 0 6 0;
#X connect 13 0 5 0;
#X connect 13 0 17 0;
#X connect 14 0 16 0;
#X connect 15 0 13 0;
#X connect 15 1 13 1;
#X connect 16 0 15 0;
#X coords 0 -1 1 1 85 60 1 100 100;
#X restore 193 317 pd intercept_ball;
#N canvas 331 154 1055 727 sig2num 0;
#X obj 86 74 snapshot~;
#X obj 82 42 inlet~;
#X floatatom 122 123 5 0 0 0 - - -, f 5;
#X obj 212 64 metro 250;
#X obj 198 15 loadbang;
#X obj 166 122 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 3 0 0 0;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X coords 0 -1 1 1 85 60 1 100 100;
#X restore 950 168 pd sig2num;
#X text 75 73 range to goal;
#X obj 50 245 loadbang;
#X floatatom 50 289 5 0 0 0 - - -, f 5;
#X msg 50 267 0.7;
#X text 77 267 ir very close to ball;
#N canvas 67 113 569 459 return_home 1;
#X obj 110 120 tgl 30 0 empty empty return_home 17 7 0 10 -262144 -1
-1 1 1;
#X obj 250 91 r homed;
#X obj 85 164 r angle2goal;
#X floatatom 85 186 5 0 0 0 - - -, f 5;
#X obj 101 296 *~;
#X obj 167 220 t b f;
#X obj 101 318 throw~ steering;
#X obj 262 285 throw~ throttle;
#X obj 85 204 / 30;
#N canvas 768 148 329 156 diy_pwm 0;
#X obj 18 59 outlet~;
#X obj 18 37 expr~ $v1 < 0.15;
#X obj 18 15 phasor~ 4;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X restore 149 274 pd diy_pwm;
#X obj 378 213 t b f;
#X obj 435 140 r ball_behind;
#X floatatom 486 236 5 0 0 0 - - -, f 5;
#X floatatom 208 88 5 0 0 0 - - -, f 5;
#X obj 236 121 expr if($f1 == 1 \, 0 \, if($f1 == 0 \, 1 \, 0));
#X obj 236 143 sig~;
#X obj 232 162 s~ return_home;
#X obj 236 193 r~ return_home;
#X obj 274 241 expr~ (($v1 * $v2) * -0.5);
#X obj 435 162 sig~;
#X obj 452 186 not~;
#X obj 85 226 sig~;
#X obj 101 252 *~;
#X connect 1 0 13 0;
#X connect 1 0 14 0;
#X connect 2 0 3 0;
#X connect 3 0 8 0;
#X connect 4 0 6 0;
#X connect 5 0 22 0;
#X connect 5 1 22 1;
#X connect 8 0 21 0;
#X connect 9 0 4 1;
#X connect 10 0 18 0;
#X connect 10 1 18 1;
#X connect 11 0 19 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 17 0 5 0;
#X connect 18 0 7 0;
#X connect 19 0 20 0;
#X connect 20 0 10 0;
#X connect 20 0 12 0;
#X connect 21 0 22 0;
#X connect 22 0 4 0;
#X coords 0 -1 1 1 85 60 1 100 100;
#X restore 348 317 pd return_home;
#X obj 526 86 r range;
#X floatatom 526 109 5 0 0 0 - - -, f 5;
#N canvas 8 60 1265 660 differential_drive 0;
#X obj 275 542 vsl 15 100 -1 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 3646 1;
#X obj 361 543 vsl 15 100 -1 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 6254 1;
#X obj 345 194 vsl 15 100 -1 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 4950 1;
#X obj 304 352 hsl 100 15 -1 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 4081 1;
#X obj 256 472 +;
#X obj 362 472 +;
#X floatatom 344 326 5 0 0 0 - - -, f 5;
#X obj 284 442 t b f;
#X obj 375 411 * -1;
#X obj 375 442 t b f;
#X floatatom 246 384 5 0 0 0 - - -, f 5;
#X obj 220 686 s left_speed;
#X obj 370 684 s right_speed;
#X text -7 20 forward/ backwards;
#X text 874 19 left/right;
#X obj 963 117 inlet;
#X text 910 92 steering toggle;
#X obj 379 101 sig2num~;
#X obj 26 46 inlet~;
#X obj 553 150 sig2num~;
#X obj 459 25 hsl 128 15 10 2000 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 64 1;
#X obj 842 49 inlet~;
#X obj 291 9 loadbang;
#X msg 296 32 20;
#X obj 704 117 *~;
#X obj 205 10 inlet;
#X obj 133 74 *~;
#X obj 204 116 tgl 50 1 steering_toggle_out steering_toggle_in empty
17 7 0 10 -262144 -1 -1 1 1;
#X obj 963 139 s steering_toggle_in;
#X obj 966 186 r steering_toggle_out;
#X obj 142 30 s throttle_toggle_in;
#X obj 119 120 tgl 50 1 throttle_toggle_out throttle_toggle_in empty
17 7 0 10 -262144 -1 -1 1 1;
#X obj 182 55 r throttle_toggle_out;
#X obj 201 228 hsl 60 15 -1 1 0 0 empty steering_drive empty -2 -8
0 10 -262144 -1 -1 2432 1;
#X obj 137 205 vsl 15 60 -1 1 0 0 empty throttle_drive empty 0 -9 0
10 -262144 -1 -1 2950 1;
#X obj 398 197 s throttle_drive;
#X obj 574 278 s steering_drive;
#X floatatom 471 73 5 0 0 0 - - -, f 5;
#X text 0 94 TODO: enable these at startup:;
#X obj 256 494 clip -1 1;
#X obj 362 494 clip -1 1;
#X obj 256 516 * 1.5;
#X obj 362 516 * 1.5;
#X connect 0 0 11 0;
#X connect 1 0 12 0;
#X connect 2 0 6 0;
#X connect 3 0 7 0;
#X connect 3 0 8 0;
#X connect 3 0 10 0;
#X connect 4 0 39 0;
#X connect 5 0 40 0;
#X connect 6 0 4 0;
#X connect 6 0 5 0;
#X connect 7 0 4 0;
#X connect 7 1 4 1;
#X connect 8 0 9 0;
#X connect 9 0 5 0;
#X connect 9 1 5 1;
#X connect 15 0 28 0;
#X connect 17 0 2 0;
#X connect 17 0 35 0;
#X connect 18 0 26 0;
#X connect 19 0 3 0;
#X connect 19 0 36 0;
#X connect 20 0 17 1;
#X connect 20 0 19 1;
#X connect 20 0 37 0;
#X connect 21 0 24 0;
#X connect 22 0 23 0;
#X connect 23 0 20 0;
#X connect 24 0 19 0;
#X connect 25 0 30 0;
#X connect 26 0 17 0;
#X connect 29 0 24 1;
#X connect 32 0 26 1;
#X connect 39 0 41 0;
#X connect 40 0 42 0;
#X connect 41 0 0 0;
#X connect 42 0 1 0;
#X coords 0 -1 1 1 170 200 1 100 100;
#X restore 654 485 pd differential_drive;
#X obj 655 162 tgl 30 0 empty empty way_is_clear 17 7 0 10 -262144
-1 -1 0 1;
#X msg 701 431 -1;
#X msg 655 430 0;
#X obj 655 403 moses 1;
#X obj 655 458 clip~ 0 1;
#X obj 762 458 catch~ steering;
#X obj 536 402 catch~ throttle;
#N canvas 279 224 864 411 homed 0;
#X obj 552 32 r range;
#X obj 278 32 r inside_goal_zone;
#X obj 681 32 r compass_heading;
#X obj 387 161 expr $f1 * $f2 * $f3 * $f4;
#X obj 110 120 tgl 30 0 empty homed homed 17 7 0 10 -262144 -1 -1 0
1;
#X obj 387 183 moses 1;
#X msg 387 205 1;
#X obj 387 252 s homed;
#X obj 278 128 moses 1;
#X msg 308 205 0;
#X obj 425 32 r goal_detected;
#X obj 425 54 t b f;
#X obj 598 97 t b f;
#X obj 681 98 t b f;
#X obj 598 75 <;
#X obj 616 32 inlet;
#X floatatom 616 54 5 0 0 0 - - -, f 5;
#X floatatom 761 54 5 0 0 0 - - -, f 5;
#X obj 681 54 abs;
#X obj 528 75 moses 1;
#X obj 681 76 < 90;
#X text 156 181 allow boris to keep intercepting the ball once past
the goal zone, f 17;
#X msg 449 228 0;
#X obj 289 206 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 278 150 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 278 106 change;
#X obj 449 252 s kick_toggle;
#X floatatom 552 54 5 0 0 0 - - -, f 5;
#X floatatom 320 64 5 0 0 0 - - -, f 5;
#X obj 308 183 delay 400;
#X connect 0 0 19 0;
#X connect 0 0 27 0;
#X connect 1 0 3 0;
#X connect 1 0 25 0;
#X connect 1 0 28 0;
#X connect 2 0 17 0;
#X connect 2 0 18 0;
#X connect 3 0 5 0;
#X connect 5 1 6 0;
#X connect 6 0 7 0;
#X connect 6 0 22 0;
#X connect 8 0 24 0;
#X connect 9 0 7 0;
#X connect 10 0 11 0;
#X connect 11 0 3 0;
#X connect 11 1 3 1;
#X connect 12 0 3 0;
#X connect 12 1 3 2;
#X connect 13 0 3 0;
#X connect 13 1 3 3;
#X connect 14 0 12 0;
#X connect 15 0 16 0;
#X connect 16 0 14 1;
#X connect 18 0 20 0;
#X connect 19 1 14 0;
#X connect 20 0 13 0;
#X connect 22 0 26 0;
#X connect 24 0 29 0;
#X connect 25 0 8 0;
#X connect 29 0 9 0;
#X connect 29 0 23 0;
#X coords 0 -1 1 1 85 60 1 100 100;
#X restore 50 127 pd homed;
#N canvas 90 51 895 345 motor-serial 0;
#X text 69 49 Tell motor-control what serial device to use:;
#X obj 76 244 s motor_device;
#X obj 12 142 loadbang;
#X obj 12 164 delay 50;
#X obj 103 104 bng 50 250 50 0 empty empty restart 17 7 0 10 -262144
-1 -1;
#X obj 102 74 r dspace_restart;
#X msg 73 192 devicename /dev/serial/by-id/usb-DSpace__www.dspace.org.nz__DSpace_Robot_2.0_55234313335351A0D161-if00
, f 111;
#X obj 165 131 bng 15 250 50 0 empty empty disconnect 17 7 0 10 -262144
-1 -1;
#X msg 165 151 close;
#X obj 244 74 inlet;
#X connect 2 0 3 0;
#X connect 3 0 6 0;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X connect 6 0 1 0;
#X connect 7 0 8 0;
#X connect 8 0 1 0;
#X connect 9 0 4 0;
#X coords 0 -1 1 1 85 60 1 100 100;
#X restore 1023 513 pd motor-serial;
#N canvas 26 93 677 448 reorientate 0;
#X obj 110 120 tgl 30 0 empty reorientate reorientate 17 7 0 10 -262144
-1 -1 1 1;
#X obj 242 71 r panic;
#X obj 242 93 s reorientate;
#X obj 352 170 r reorientate;
#N canvas 213 360 549 344 heading 0;
#X obj 28 27 inlet;
#X obj 28 239 outlet;
#X obj 28 108 / 100;
#X obj 28 161 clip -2 2;
#X obj 28 134 * 1.5;
#X text 97 22 veer towards target goal;
#X connect 0 0 2 0;
#X connect 2 0 4 0;
#X connect 3 0 1 0;
#X connect 4 0 3 0;
#X restore 219 197 pd heading;
#X obj 219 170 r compass_heading;
#X obj 219 219 sig~;
#X obj 218 288 throw~ steering;
#X obj 219 242 *~;
#X obj 352 170 r reorientate;
#X obj 219 264 *~ 1;
#X obj 379 217 abs;
#X obj 379 239 < 5;
#X obj 379 305 sig~;
#X obj 379 327 throw~ throttle;
#X obj 379 261 * 0.8;
#X obj 379 283 *;
#X text 408 217 Coppied this from unstick;
#X obj 430 261 r reorientate;
#X connect 1 0 2 0;
#X connect 3 0 8 1;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X connect 5 0 11 0;
#X connect 6 0 8 0;
#X connect 8 0 10 0;
#X connect 10 0 7 0;
#X connect 11 0 12 0;
#X connect 12 0 15 0;
#X connect 13 0 14 0;
#X connect 15 0 16 0;
#X connect 16 0 13 0;
#X connect 18 0 16 1;
#X coords 0 -1 1 1 85 60 1 100 100;
#X restore 50 404 pd reorientate;
#X floatatom 820 262 5 0 0 0 - - -, f 5;
#N canvas 414 168 781 476 stuck 0;
#X obj 110 120 tgl 30 0 empty stuck stuck 17 7 0 10 -262144 -1 -1 0
1;
#X obj 432 71 r return_home;
#X obj 432 93 moses 1;
#X obj 412 124 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 412 251 1;
#X obj 337 62 r homed;
#X obj 337 83 moses 1;
#X msg 289 125 stop;
#X text 295 28 cancel panic when homed, f 12;
#X text 417 52 panic watchdog;
#X msg 335 126 0;
#X obj 421 273 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 349 146 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 412 186 spigot;
#X obj 490 166 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 518 135 loadbang;
#X obj 412 208 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 467 137 0;
#X msg 370 126 1;
#X text 267 310 drive towards heading time:, f 16;
#X text 458 210 time till stuck:;
#X obj 412 229 delay 7500;
#X obj 189 315 delay 3000;
#X obj 209 71 r panic;
#X obj 209 93 moses 1;
#X text 184 37 restart when panicked, f 12;
#X obj 404 341 s rubbish_stuck;
#X connect 1 0 2 0;
#X connect 3 0 13 0;
#X connect 4 0 11 0;
#X connect 4 0 14 0;
#X connect 4 0 26 0;
#X connect 5 0 6 0;
#X connect 6 0 3 0;
#X connect 6 1 7 0;
#X connect 6 1 10 0;
#X connect 6 1 18 0;
#X connect 7 0 21 0;
#X connect 10 0 12 0;
#X connect 10 0 26 0;
#X connect 13 0 16 0;
#X connect 14 0 13 1;
#X connect 15 0 14 0;
#X connect 16 0 17 0;
#X connect 16 0 21 0;
#X connect 17 0 14 0;
#X connect 18 0 14 0;
#X connect 21 0 4 0;
#X connect 21 0 22 0;
#X connect 22 0 10 0;
#X connect 22 0 18 0;
#X connect 22 0 3 0;
#X connect 23 0 24 0;
#X connect 24 1 7 0;
#X connect 24 1 10 0;
#X connect 24 1 18 0;
#X connect 24 1 3 0;
#X coords 0 -1 1 1 85 60 1 100 100;
#X restore 276 127 pd stuck;
#N canvas 650 140 587 401 unstick 0;
#X obj 104 116 tgl 30 0 empty unstick unstick 17 7 0 10 -262144 -1
-1 0 1;
#N canvas 415 230 549 344 heading 0;
#X obj 28 27 inlet;
#X obj 28 239 outlet;
#X obj 28 108 / 100;
#X obj 28 165 clip -2 2;
#X obj 28 134 * 1.5;
#X text 97 22 veer towards target goal;
#X connect 0 0 2 0;
#X connect 2 0 4 0;
#X connect 3 0 1 0;
#X connect 4 0 3 0;
#X restore 208 182 pd heading;
#X obj 208 160 r compass_heading;
#X obj 208 204 sig~;
#X obj 207 272 throw~ steering;
#X obj 208 226 *~;
#X obj 379 217 abs;
#X obj 379 239 < 5;
#X obj 379 305 sig~;
#X obj 379 327 throw~ throttle;
#X obj 348 160 r unstick;
#X obj 234 74 r stuck;
#X obj 234 96 s unstick;
#X obj 379 261 * 0.8;
#X obj 348 160 r unstick;
#X obj 430 261 r unstick;
#X obj 379 283 *;
#X floatatom 156 182 5 0 0 0 - - -, f 5;
#X obj 208 248 *~ 1;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 2 0 6 0;
#X connect 2 0 17 0;
#X connect 3 0 5 0;
#X connect 5 0 18 0;
#X connect 6 0 7 0;
#X connect 7 0 13 0;
#X connect 10 0 5 1;
#X connect 11 0 12 0;
#X connect 13 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 8 0;
#X coords 0 -1 1 1 85 60 1 100 100;
#X restore 181 404 pd unstick;
#X obj 526 128 expr $f1 == 0 || $f1 > $f2;
#X obj 820 240 r ball_angle;
#X obj 741 315 r~ ball_distance~;
#X obj 741 337 sig2num~;
#X obj 742 379 s ball_near;
#X obj 518 257 s stuck;
#X msg 520 238 0;
#X obj 528 209 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 50 73 25;
#X obj 742 357 < 0.6;
#X floatatom 868 78 5 0 0 0 - - -, f 5;
#N canvas 0 52 1280 628 ball_behind 0;
#X restore 331 427 pd ball_behind;
#X obj 932 239 r ball_angle;
#X obj 1048 240 r compass_heading;
#X obj 1010 300 -;
#X obj 1048 262 t b f;
#X obj 1010 322 expr if($f1 < -180 \, $f1 + 360 \, $f1);
#X obj 1010 344 abs;
#X obj 1010 366 < 90;
#X obj 1008 428 s ball_behind;
#X floatatom 1103 383 5 0 0 0 - - -, f 5;
#X obj 1010 388 not;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 13 0;
#X connect 8 0 9 0;
#X connect 8 0 54 0;
#X connect 9 1 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 11 0 21 0;
#X connect 15 0 52 0;
#X connect 16 0 38 0;
#X connect 16 0 44 1;
#X connect 23 0 25 0;
#X connect 25 0 24 0;
#X connect 28 0 29 0;
#X connect 29 0 44 0;
#X connect 31 0 34 0;
#X connect 32 0 35 1;
#X connect 33 0 35 1;
#X connect 34 0 33 0;
#X connect 34 1 32 0;
#X connect 35 0 30 0;
#X connect 36 0 30 2;
#X connect 37 0 35 0;
#X connect 44 0 31 0;
#X connect 45 0 41 0;
#X connect 46 0 47 0;
#X connect 47 0 53 0;
#X connect 50 0 49 0;
#X connect 51 0 50 0;
#X connect 52 0 16 0;
#X connect 53 0 48 0;
#X connect 56 0 58 0;
#X connect 57 0 59 0;
#X connect 58 0 60 0;
#X connect 59 0 58 0;
#X connect 59 1 58 1;
#X connect 60 0 61 0;
#X connect 61 0 62 0;
#X connect 62 0 65 0;
#X connect 65 0 63 0;
#X connect 65 0 64 0;
