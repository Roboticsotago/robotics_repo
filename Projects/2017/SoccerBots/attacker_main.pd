#N canvas 14 101 1905 545 10;
#X obj 69 39 r ball_angle;
#X floatatom 102 69 5 0 0 0 - - -, f 5;
#X obj 105 91 hsl 64 15 -180 180 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 4429 1;
#X obj 326 109 tgl 50 0 empty empty ball_near 17 7 0 10 -262144 -1
-1 0 1;
#X obj 202 68 < 20;
#X obj 74 120 / 180;
#X obj 73 145 sig~;
#X obj 119 119 tgl 50 1 empty empty can_turn 17 7 0 10 -262144 -1 -1
1 1;
#X obj 73 167 *~;
#X obj 70 214 throw~ steering;
#X obj 325 43 r ball_distance;
#X obj 326 84 < 0.25;
#X floatatom 325 65 5 0 0 0 - - -, f 5;
#X obj 204 89 tgl 50 0 empty empty facing_ball 17 7 0 10 -262144 -1
-1 0 1;
#X obj 491 44 r compass_heading;
#X obj 491 66 abs;
#X obj 491 88 < 70;
#X floatatom 531 66 5 0 0 0 - - -, f 5;
#N canvas 14 59 1219 718 differential_drive 0;
#X obj 281 525 vsl 15 100 -1 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 4950 1;
#X obj 362 519 vsl 15 100 -1 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 4950 1;
#X obj 345 194 vsl 15 100 -1 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 4950 1;
#X obj 304 352 hsl 100 15 -1 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 4950 1;
#X obj 286 472 +;
#X obj 362 472 +;
#X floatatom 344 326 5 0 0 0 - - -, f 5;
#X obj 286 494 clip -1 1;
#X obj 315 442 t b f;
#X obj 375 411 * -1;
#X obj 375 442 t b f;
#X obj 362 494 clip -1 1;
#X floatatom 246 384 5 0 0 0 - - -, f 5;
#X obj 220 686 s left_speed;
#X obj 370 684 s right_speed;
#X text -7 20 forward/ backwards;
#X text 874 19 left/right;
#X obj 963 117 inlet;
#X text 910 92 steering toggle;
#X obj 379 101 sig2num~;
#X obj 26 46 inlet~;
#X obj 553 150 sig2num~;
#X obj 459 25 hsl 128 15 10 2000 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 64 1;
#X obj 842 49 inlet~;
#X obj 291 9 loadbang;
#X msg 296 32 20;
#X obj 704 117 *~;
#X obj 205 10 inlet;
#X obj 133 74 *~;
#X obj 204 116 tgl 50 1 steering_toggle_out steering_toggle_in empty
17 7 0 10 -262144 -1 -1 1 1;
#X obj 963 139 s steering_toggle_in;
#X obj 966 186 r steering_toggle_out;
#X obj 142 30 s throttle_toggle_in;
#X obj 119 120 tgl 50 1 throttle_toggle_out throttle_toggle_in empty
17 7 0 10 -262144 -1 -1 1 1;
#X obj 182 55 r throttle_toggle_out;
#X obj 201 228 hsl 60 15 -1 1 0 0 empty steering_drive empty -2 -8
0 10 -262144 -1 -1 2950 1;
#X obj 137 205 vsl 15 60 -1 1 0 0 empty throttle_drive empty 0 -9 0
10 -262144 -1 -1 2950 1;
#X obj 398 197 s throttle_drive;
#X obj 574 278 s steering_drive;
#X floatatom 471 73 5 0 0 0 - - -, f 5;
#X connect 0 0 13 0;
#X connect 1 0 14 0;
#X connect 2 0 6 0;
#X connect 3 0 8 0;
#X connect 3 0 9 0;
#X connect 3 0 12 0;
#X connect 4 0 7 0;
#X connect 5 0 11 0;
#X connect 6 0 4 0;
#X connect 6 0 5 0;
#X connect 7 0 0 0;
#X connect 8 0 4 0;
#X connect 8 1 4 1;
#X connect 9 0 10 0;
#X connect 10 0 5 0;
#X connect 10 1 5 1;
#X connect 11 0 1 0;
#X connect 17 0 30 0;
#X connect 19 0 2 0;
#X connect 19 0 37 0;
#X connect 20 0 28 0;
#X connect 21 0 3 0;
#X connect 21 0 38 0;
#X connect 22 0 19 1;
#X connect 22 0 21 1;
#X connect 22 0 39 0;
#X connect 23 0 26 0;
#X connect 24 0 25 0;
#X connect 25 0 22 0;
#X connect 26 0 21 0;
#X connect 27 0 32 0;
#X connect 28 0 19 0;
#X connect 31 0 26 1;
#X connect 34 0 28 1;
#X coords 0 -1 1 1 170 200 1 100 100;
#X restore 838 327 pd differential_drive;
#X obj 979 213 catch~ steering;
#X obj 998 237 r steering_toggle;
#X obj 1024 263 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
0 1;
#X obj 795 256 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 790 225 r throttle_toggle;
#X obj 808 291 *~;
#X obj 978 293 *~;
#X obj 845 253 r goal_area;
#X obj 485 110 tgl 50 0 empty empty facing_goal 17 7 0 10 -262144 -1
-1 1 1;
#N canvas 899 363 450 300 kick? 1;
#X obj 50 294 change;
#X obj 82 359 s kick;
#X text 167 5 triggers metro to send kick ball;
#X obj 53 272 snapshot~;
#X obj 177 222 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 208 209 loadbang;
#X obj 178 36 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 20 1;
#X floatatom 181 61 5 0 0 0 - - -, f 5;
#X obj 181 100 expr 1 / $f1;
#X obj 181 80 clip 0.1 5;
#X floatatom 180 129 5 0 0 0 - - -, f 5;
#X obj 107 -49 loadbang;
#X obj 63 175 phasor~;
#X text -1 -31 toggles kicker;
#X obj 146 244 metro 10;
#X obj 60 243 *~;
#X obj 6 -49 inlet~;
#X obj 69 200 expr~ $v1 < 0.5;
#X floatatom 176 299 5 0 0 0 - - -, f 5;
#X floatatom 110 319 5 0 0 0 - - -, f 5;
#X obj 6 -16 lop~ 1;
#X obj 20 110 expr~ $v1 < 0.5;
#X msg 226 235 10;
#X msg 106 -24 0.2;
#X connect 0 0 1 0;
#X connect 0 0 19 0;
#X connect 3 0 0 0;
#X connect 3 0 18 0;
#X connect 4 0 14 0;
#X connect 5 0 4 0;
#X connect 5 0 22 0;
#X connect 6 0 7 0;
#X connect 7 0 9 0;
#X connect 8 0 10 0;
#X connect 9 0 8 0;
#X connect 10 0 12 0;
#X connect 11 0 23 0;
#X connect 12 0 17 0;
#X connect 14 0 3 0;
#X connect 15 0 3 0;
#X connect 16 0 20 0;
#X connect 17 0 15 1;
#X connect 20 0 21 0;
#X connect 21 0 15 0;
#X connect 22 0 14 1;
#X connect 23 0 6 0;
#X restore 380 233 pd kick?;
#X obj 653 42 r ball_detected;
#X obj 788 39 r angle2goal;
#X obj 903 41 r range;
#X obj 791 65 abs;
#X obj 741 113 tgl 50 0 empty empty Facing_Goal 17 7 0 10 -262144 -1
-1 1 1;
#X obj 793 88 < 20;
#X floatatom 850 88 5 0 0 0 - - -, f 5;
#X obj 851 108 / 35;
#X floatatom 851 130 5 0 0 0 - - -, f 5;
#X obj 332 164 sig~;
#X obj 485 165 sig~;
#X obj 382 209 expr~ $v1 * $v2 * $v3;
#X obj 741 168 sig~;
#X obj 1371 421 s motor_device;
#X text 1364 305 Tell motor-control what serial device to use:;
#X obj 1371 327 loadbang;
#X obj 1371 349 delay 50;
#X msg 1371 373 devicename /dev/serial/by-id/usb-DSpace__www.dspace.org.nz__DSpace_Robot_2.0_55234313335351503221-if00
;
#X connect 0 0 1 0;
#X connect 0 0 4 0;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 3 0 38 0;
#X connect 4 0 13 0;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 7 0 8 0;
#X connect 10 0 12 0;
#X connect 11 0 3 0;
#X connect 12 0 11 0;
#X connect 14 0 15 0;
#X connect 14 0 17 0;
#X connect 15 0 16 0;
#X connect 16 0 27 0;
#X connect 19 0 25 0;
#X connect 20 0 21 0;
#X connect 20 0 25 1;
#X connect 22 0 24 0;
#X connect 23 0 22 0;
#X connect 24 0 18 0;
#X connect 25 0 18 2;
#X connect 26 0 24 1;
#X connect 27 0 39 0;
#X connect 30 0 32 0;
#X connect 30 0 35 0;
#X connect 32 0 34 0;
#X connect 33 0 41 0;
#X connect 35 0 36 0;
#X connect 36 0 37 0;
#X connect 38 0 40 0;
#X connect 39 0 40 1;
#X connect 40 0 28 0;
#X connect 41 0 40 2;
#X connect 44 0 45 0;
#X connect 45 0 46 0;
#X connect 46 0 42 0;
